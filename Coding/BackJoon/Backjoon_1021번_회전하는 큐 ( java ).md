# \[ Backjoon - 1021ë²ˆ \] íšŒì „í•˜ëŠ”  í (Â withÂ javaÂ )

https://www.acmicpc.net/problem/1021

## ë¬¸ì œ
ì§€ë¯¼ì´ëŠ” Nê°œì˜ ì›ì†Œë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” ì–‘ë°©í–¥ ìˆœí™˜ íë¥¼ ê°€ì§€ê³  ìˆë‹¤. ì§€ë¯¼ì´ëŠ” ì´ íì—ì„œ ëª‡ ê°œì˜ ì›ì†Œë¥¼ ë½‘ì•„ë‚´ë ¤ê³  í•œë‹¤.

ì§€ë¯¼ì´ëŠ” ì´ íì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ 3ê°€ì§€ ì—°ì‚°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.

1. ì²« ë²ˆì§¸ ì›ì†Œë¥¼ ë½‘ì•„ë‚¸ë‹¤. ì´ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë©´, ì›ë˜ íì˜ ì›ì†Œê°€ a1, ..., akì´ì—ˆë˜ ê²ƒì´ a2, ..., akì™€ ê°™ì´ ëœë‹¤.
2. ì™¼ìª½ìœ¼ë¡œ í•œ ì¹¸ ì´ë™ì‹œí‚¨ë‹¤. ì´ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë©´, a1, ..., akê°€ a2, ..., ak, a1ì´ ëœë‹¤.
3. ì˜¤ë¥¸ìª½ìœ¼ë¡œ í•œ ì¹¸ ì´ë™ì‹œí‚¨ë‹¤. ì´ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë©´, a1, ..., akê°€ ak, a1, ..., ak-1ì´ ëœë‹¤.

íì— ì²˜ìŒì— í¬í•¨ë˜ì–´ ìˆë˜ ìˆ˜ Nì´ ì£¼ì–´ì§„ë‹¤. ê·¸ë¦¬ê³  ì§€ë¯¼ì´ê°€ ë½‘ì•„ë‚´ë ¤ê³  í•˜ëŠ” ì›ì†Œì˜ ìœ„ì¹˜ê°€ ì£¼ì–´ì§„ë‹¤. (ì´ ìœ„ì¹˜ëŠ” ê°€ì¥ ì²˜ìŒ íì—ì„œì˜ ìœ„ì¹˜ì´ë‹¤.) ì´ë•Œ, ê·¸ ì›ì†Œë¥¼ ì£¼ì–´ì§„ ìˆœì„œëŒ€ë¡œ ë½‘ì•„ë‚´ëŠ”ë° ë“œëŠ” 2ë²ˆ, 3ë²ˆ ì—°ì‚°ì˜ ìµœì†Ÿê°’ì„ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

### ì…ë ¥
>![](https://i.imgur.com/w7trnuG.png)
>

### ì¶œë ¥
>
>ì²«ì§¸ ì¤„ì— ë¬¸ì œì˜ ì •ë‹µì„ ì¶œë ¥í•œë‹¤.
>

### ì˜ˆì œ
![](https://i.imgur.com/bhkdNYq.png) ![](https://i.imgur.com/eAHj1sy.png) ![](https://i.imgur.com/DCTt5rR.png) ![](https://i.imgur.com/DF2Aen4.png)




## ë¬¸ì œ í’€ì´
íë¥¼ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤. íì˜ ë™ì‘ì„ ì‹œë®¬ë ˆì´ì…˜ í•˜ì§€ë§Œ, frontì™€ back ì–‘ìª½ì—ì„œ ìë£Œë¥¼ ì ‘ê·¼í•´ì•¼ í•˜ë¯€ë¡œ ë¦¬ìŠ¤íŠ¸ë¥¼ ì´ìš©í•´ êµ¬í˜„í•˜ë©´ ë©ë‹ˆë‹¤.

pushëŠ” ìë£Œë¥¼ ë¦¬ìŠ¤íŠ¸ì˜ add ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ê³ , popì€ remove(0)ìœ¼ë¡œ 0ë²ˆ ì¸ë±ìŠ¤ì˜ ê°’ì„ ì œê±°í•˜ë©´ ë©ë‹ˆë‹¤.

front ê°’ì— ì ‘ê·¼í•˜ëŠ” ê²ƒì€ ë¦¬ìŠ¤íŠ¸ì—ì„œ get(0)ë¡œ ì ‘ê·¼í•˜ë©´ ë˜ê³ , backì— ì ‘ê·¼í•˜ëŠ” ê²ƒì€ get(list.size()-1)ë¡œ ì ‘ê·¼í•˜ë©´ ë©ë‹ˆë‹¤.

### ë¬¸ì œ ì ‘ê·¼
ë¬¸ì œë¥¼ ì •í™•í•˜ê²Œ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

-  ì…ë ¥  
	-  ì²«ì§¸ ì¤„ ì…ë ¥
		- íì˜ í¬ê¸° : N ( 0 < N < 50 )
		- ë½‘ìœ¼ë ¤ëŠ” ìˆ˜ì˜ ê°œìˆ˜ M
		  
	-  ë‘˜ì§¸ ì¤„ ì…ë ¥ : ë½‘ìœ¼ë ¤ëŠ” ìˆ˜
	  
-  ì¶œë ¥
	- 2, 3ë²ˆ ì—°ì‚° ì‹œ  ì¶œë ¥ ê°’ì„ 1ì”© ì¦ê°€ì‹œí‚¨ë‹¤.
	  
-  ì—°ì‚°
	- 1.Â ì²« ë²ˆì§¸ ì›ì†Œë¥¼ ë½‘ì•„ë‚¸ë‹¤. ì´ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë©´, ì›ë˜ íì˜ ì›ì†Œê°€ a1, ..., akì´ì—ˆë˜ ê²ƒì´ a2, ..., akì™€ ê°™ì´ ëœë‹¤. 
	- 2.Â ì™¼ìª½ìœ¼ë¡œ í•œ ì¹¸ ì´ë™ì‹œí‚¨ë‹¤. ì´ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë©´, a1, ..., akê°€ a2, ..., ak, a1ì´ ëœë‹¤.
	- 3.Â ì˜¤ë¥¸ìª½ìœ¼ë¡œ í•œ ì¹¸ ì´ë™ì‹œí‚¨ë‹¤. ì´ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë©´, a1, ..., akê°€ ak, a1, ..., ak-1ì´ ëœë‹¤.

**Queue**ëŠ” ì…ë ¥ê³¼ ì¶œë ¥ì´ ì •í•´ì§„ ìœ„ì¹˜ì—ì„œë§Œ ê°€ëŠ¥í•˜ë‹¤.

í•˜ì§€ë§Œ 2, 3ë²ˆì˜ ì—°ì‚°ì„ í•˜ë ¤ë©´ ì–‘ìª½ ëì—ì„œ ì…ì¶œë ¥ì´ ê°€ëŠ¥í•´ì•¼í•œë‹¤.

ë”°ë¼ì„œ ì–‘ìª½ì—ì„œ ì…ì¶œë ¥ì´ ê°€ëŠ¥í•œ **Deque**ë¥¼ ì‚¬ìš©í•˜ë©´ í¸í•œë‹¤.

>
>ğŸ’¡Deque ë€
>
>Stack, Queueì˜ íŠ¹ì„±ì„ ëª¨ë‘ ê°€ì§„ ìë£Œêµ¬ì¡°ì´ë‹¤.
>ì¦‰, FIFO, LIFOì˜ íŠ¹ì„±ì„ ëª¨ë‘ ê°€ì§€ê³  ìˆë‹¤.
>
>ì•„ë˜ì˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
>
>addFirst() : ë± ë§¨ ì•ìª½ì— ê°’ì„ ì‚½ì…í•˜ëŠ” ë©”ì„œë“œ
>addLast() : ë± ë§ˆì§€ë§‰ ìª½ì— ê°’ì„ ì‚½ì…í•˜ëŠ” ë©”ì„œë“œ
>pollFirst() : ë± ë§¨ ì•ìª½ì˜ ê°’ì„ ë¹¼ì˜¤ëŠ” ë©”ì„œë“œ
>pollLast() : ë± ë§ˆì§€ë§‰ ìª½ì˜ ê°’ì„ ë¹¼ì˜¤ëŠ” ë©”ì„œë“œ
>




**2ë²ˆ ì—°ì‚°ê³¼ 3ë²ˆ ì—°ì‚°ì´ ìµœì†Œê°€ ë˜ë„ë¡ í•´ì•¼ í•œë‹¤**

1. ë½‘ê³ ì í•˜ëŠ” ì›ì†Œê°€ ë±ì˜ ì¤‘ì•™ì—ì„œ ì–´ëŠ ë°©í–¥ì— ê°€ê¹Œìš´ì§€ í™•ì¸
2. ê·¸ ë°©í–¥ìœ¼ë¡œ 2,3ë²ˆ ì—°ì‚°ì„ í†µí•´ ì²« ë²ˆì§¸ ìœ„ì¹˜ê¹Œì§€ ë°˜ë³µ
3. 1ë²ˆ ì—°ì‚°ì„ í†µí•´ ì›ì†Œë¥¼ ë½‘ìŒ


> ì˜ˆì‹œ 1
> 
> Queue = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 }
> ë½‘ì„ ìˆ«ì : 1, 2, 3
> 
> 1ë²ˆ ì—°ì‚°ë§Œ 3ë²ˆ ì§„í–‰
> { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 } => { 4, 5, 6, 7, 8, 9, 10 }
> 
> ì¶œë ¥ : 0

> ì˜ˆì‹œ 2
> 
> Queue = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 }
> ë½‘ì„ ìˆ«ì : 2, 9, 5
> 
> 2ë²ˆ ì—°ì‚° í›„ 1ë²ˆ ì—°ì‚°
> { 2, 3, 4, 5, 6, 7, 8, 9, 10, 1 } => { 3, 4, 5, 6, 7, 8, 9, 10, 1 }
> count = 1
> 
> 3ë²ˆ ì—°ì‚° 3ë²ˆ í›„ 1ë²ˆ ì—°ì‚°
> { 9, 10, 1, 3, 4, 5, 6, 7, 8 } => { 10, 1, 3, 4, 5, 6, 7, 8 }
> count = 4
> 
> 2ë²ˆ ì—°ì‚° 4ë²ˆ í›„ 1ë²ˆ ì—°ì‚°
> { 5, 6, 7, 8,Â 10, 1,Â 3, 4 } => { 6, 7, 8,Â 10, 1,Â 3, 4 } 
>count = 8
>
> ì¶œë ¥ : 8

### ë¬¸ì œ í’€ì´

```
import java.io.BufferedReader;  
import java.io.IOException;  
import java.io.InputStreamReader;  
import java.util.LinkedList;  
  
import java.util.StringTokenizer;  
  
public class Backjoon_1021 {  
  
    public static void main(String[] args) throws IOException {  
  
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));  
        StringTokenizer st = new StringTokenizer(br.readLine());  
  
        // íì˜ í¬ê¸°  
        int N = Integer.parseInt(st.nextToken());  
        // ë½‘ëŠ” ì›ì†Œì˜ ê°œìˆ˜  
        int M = Integer.parseInt(st.nextToken());  
  
        // ë½‘ìœ¼ë ¤ëŠ” ì›ì†Œì˜ ì¢…ë¥˜ë¥¼ ë‹´ì€ ë°°ì—´  
        // ë‹¤ìŒ ì¤„ : ë½‘ìœ¼ë ¤ëŠ” ì›ì†Œì˜ ì¢…ë¥˜  
        st = new StringTokenizer(br.readLine());  
        int[] elArr = new int[M];  
        for (int i = 0; i < M; i++) {  
            elArr[i] = Integer.parseInt(st.nextToken());  
        }  
  
        // 2,3ë²ˆ ì—°ì‚° íšŸìˆ˜ë¥¼ ë‹´ëŠ” ë³€ìˆ˜  
        int cnt = 0;  
  
        // í ìƒì„±  
        LinkedList<Integer> q = new LinkedList<Integer>();  
  
        // íì— 1 ~ N ë§Œí¼ ì›ì†Œ ë„£ê¸°  
        for(int i = 1; i <= N; i++) {  
            q.add(i);  
        }  
        
        // ì–´ë– í•œ ì—°ì‚°ì„ ì¨ì•¼í•˜ëŠ”ì§€ íŒŒì•…í•˜ëŠ” ê³¼ì •  
        for(int i = 0; i < M; i++) {  
  
            // íì—ì„œ ë½‘ê³ ì í•˜ëŠ” ìˆ«ìì˜ index í™•ì¸  
            int target_idx = q.indexOf(elArr[i]);  
  
            // íì˜ ì¤‘ê°„ ì¸ë±ìŠ¤ë¥¼ ê°€ë¥´í‚¤ëŠ” ë³€ìˆ˜  
            int half_idx;  
  
            // íì˜ í¬ê¸°ê°€ ì§ìˆ˜ì¸ ê²½ìš°  
            if(q.size() % 2 == 0) {  
                // ì¤‘ê°„ ì¸ë±ìŠ¤ë¥¼ í í¬ê¸° - 1 ë¥¼ í•œë‹¤.  
                half_idx = q.size() / 2 - 1;  
            }  
            else {  
                // íì˜ í¬ê°€ í™€ìˆ˜ì¸ ê²½ìš°  
                half_idx = q.size() / 2;  
            }  
  
            // 2ë²ˆì—°ì‚°  
            // ë½‘ê³ ì í•˜ëŠ” ìˆ«ìê°€ ì¤‘ê°„ ì§€ì  ë³´ë‹¤ ì•ì— ìˆëŠ” ê²½ìš°  
            if(target_idx <= half_idx) {  
  
                // ëª¨ë“  ì›ì†Œë¥¼ ì™¼ìª½ìœ¼ë¡œ ì´ë™  
                for(int j = 0; j < target_idx; j++) {  
  
                    // ì²«ë²ˆì§¸ ì›ì†Œë¥¼ ë¹¼ì„œ ë§¨ë’¤ë¡œ ì´ë™  
                    int temp = q.pollFirst();  
                    q.offerLast(temp);  
                    cnt++;  
                }  
            }  
            else {  
                // 3ë²ˆì—°ì‚°  
                // ë½‘ê³ ì í•˜ëŠ” ìˆ«ìê°€ ì¤‘ê°„ ì§€ì  ë³´ë‹¤ ë’¤ì— ìˆëŠ” ê²½ìš°  
                // ëª¨ë“  ì›ì†Œë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™  
                for(int j = 0; j < q.size() - target_idx; j++) {  
  
                    // ë§ˆì§€ë§‰ ì›ì†Œë¥¼ ë¹¼ì„œ ì•ìœ¼ë¡œ ì´ë™  
                    int temp = q.pollLast();  
                    q.offerFirst(temp);  
                    cnt++;  
                }  
  
            }  
            // 1ë²ˆ ì—°ì‚°  
            q.pollFirst();  
        }  
  
        System.out.println(cnt);  
    }  
}
```